{{template "_header.html" .}}
{{template "_sidebar.html" .}}

<style>
    /* --- MODERN CARD STYLE --- */
    .info-card {
        background: #ffffff;
        border: none;
        border-radius: 0.8rem;
        box-shadow: 0 0.5rem 1.5rem rgba(58, 59, 69, 0.1);
        margin-bottom: 2rem;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .info-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 1rem 2rem rgba(58, 59, 69, 0.15);
    }
    
    /* --- HEADER GRADIENT (PREMIUM LOOK) --- */
    .brand-header {
        background: linear-gradient(135deg, #4e73df 0%, #224abe 100%);
        padding: 3rem 2rem;
        color: white;
        position: relative;
        overflow: hidden;
    }
    /* Pattern Overlay */
    .brand-header::after {
        content: '';
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        background-image: radial-gradient(rgba(255, 255, 255, 0.15) 1px, transparent 1px);
        background-size: 20px 20px;
        opacity: 0.6;
    }
    
    /* --- LOGO WRAPPER --- */
    .brand-logo {
        width: 100px;
        height: 100px;
        background: white;
        border-radius: 25px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        margin-right: 2rem;
        position: relative;
        z-index: 2;
    }
    .brand-logo img { width: 60px; height: auto; }

    /* --- TECH SPECS GRID --- */
    .tech-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin-top: 1.5rem;
    }
    .tech-item {
        background: #f8f9fc;
        padding: 1rem;
        border-radius: 0.5rem;
        border-left: 4px solid #4e73df;
        transition: all 0.2s;
    }
    .tech-item:hover { background: #eaecf4; transform: translateX(5px); }

    .tech-title {
        font-weight: 800;
        font-size: 0.75rem;
        text-transform: uppercase;
        color: #4e73df;
        display: block;
        margin-bottom: 0.25rem;
    }
    .tech-desc {
        font-size: 0.85rem;
        color: #5a5c69;
        line-height: 1.4;
    }

    /* --- PROFILE SECTION --- */
    .dev-profile {
        text-align: center;
        padding: 2rem;
        background: linear-gradient(to bottom, #ffffff 0%, #f8f9fc 100%);
    }
    .dev-avatar {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        border: 5px solid white;
        box-shadow: 0 5px 15px rgba(0,0,0,0.15);
        object-fit: cover;
        margin-bottom: 1rem;
    }
    .dev-bio {
        font-size: 0.9rem;
        color: #6e707e;
        line-height: 1.6;
        margin-bottom: 1.5rem;
        font-style: italic;
        padding: 0 1rem;
    }

    /* --- LICENSE BADGE --- */
    .license-status-box {
        background: #f1f3f9;
        border-radius: 0.5rem;
        padding: 1rem;
        margin-top: 1rem;
        border: 1px dashed #d1d3e2;
        text-align: center;
    }
    .hwid-code {
        font-family: 'Courier New', monospace;
        font-weight: bold;
        color: #4e73df;
        display: block;
        margin-top: 5px;
        word-break: break-all;
    }
    
    /* --- VERSION PILL & UPDATE BUTTON --- */
    .version-pill {
        display: inline-flex;
        align-items: center;
        background: rgba(255,255,255,0.2);
        padding: 0.3rem 0.5rem 0.3rem 1rem;
        border-radius: 50px;
        font-size: 0.9rem;
        backdrop-filter: blur(5px);
        border: 1px solid rgba(255,255,255,0.3);
        position: relative;
        z-index: 2;
    }
    .btn-update-circle {
        width: 28px; height: 28px;
        border-radius: 50%;
        display: inline-flex; align-items: center; justify-content: center;
        background: white; color: #4e73df;
        border: none;
        cursor: pointer; transition: all 0.2s;
        margin-left: 10px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    .btn-update-circle:hover { transform: rotate(180deg) scale(1.1); color: #224abe; }
    
    .social-btn {
        width: 40px; height: 40px;
        display: inline-flex; align-items: center; justify-content: center;
        border-radius: 50%;
        color: white;
        transition: transform 0.2s;
        margin: 0 5px;
        text-decoration: none;
    }
    .social-btn:hover { transform: translateY(-3px); color: white; }
    .bg-github { background-color: #333; }
    .bg-wa { background-color: #25d366; }
    .bg-mail { background-color: #ea4335; }
</style>

<div id="content-wrapper" class="d-flex flex-column">
    <div id="content">
        {{template "_topbar.html" .}}
        
        <div class="container-fluid">
            <div class="row">
                
                <div class="col-lg-8">
                    <div class="info-card">
                        <div class="brand-header">
                            <div class="d-flex align-items-center">
                                <div class="brand-logo">
                                    <img src="/static/img/logo.png" alt="Logo">
                                </div>
                                <div style="position: relative; z-index: 2;">
                                    <h2 class="font-weight-bold mb-1">SIMDOKPOL</h2>
                                    <p class="mb-3 text-white-50" style="font-size: 1.1rem;">Sistem Informasi Manajemen Dokumen Kepolisian</p>
                                    
                                    <div class="version-pill">
                                        <i class="fas fa-code-branch mr-2"></i> v{{if .AppVersion}}{{.AppVersion}}{{else}}dev{{end}}
                                        <button type="button" id="btn-check-update-inline" class="btn-update-circle" title="Cek Pembaruan">
                                            <i class="fas fa-sync-alt fa-xs"></i>
                                        </button>
                                    </div>
                                    <a href="#" data-toggle="modal" data-target="#changelogModal" class="text-white small ml-3 font-weight-bold" style="text-decoration: underline;">
                                        Lihat Catatan Rilis
                                    </a>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card-body p-4">
                            <h5 class="text-gray-800 font-weight-bold mb-3"><i class="fas fa-lightbulb text-warning mr-2"></i>Latar Belakang & Tujuan</h5>
                            <p class="text-justify text-gray-600 mb-4">
                                SIMDOKPOL dikembangkan sebagai respons terhadap kebutuhan unit pelayanan kepolisian (SPKT) akan sistem manajemen dokumen yang modern, cepat, dan akuntabel. Aplikasi ini mentransformasi proses penerbitan surat manual menjadi digital, mengurangi risiko <em>human error</em>, dan memastikan setiap dokumen terarsip dengan aman.
                            </p>

                            <h5 class="text-gray-800 font-weight-bold mb-3"><i class="fas fa-microchip text-primary mr-2"></i>Spesifikasi Teknis & Keunggulan</h5>
                            <div class="tech-grid">
                                <div class="tech-item">
                                    <span class="tech-title"><i class="fab fa-golang mr-1"></i> Core Engine</span>
                                    <span class="tech-desc">Menggunakan <strong>Go (Golang)</strong> 1.23+ yang menjamin performa tinggi, konkurensi stabil, dan efisiensi memori.</span>
                                </div>
                                <div class="tech-item">
                                    <span class="tech-title"><i class="fas fa-database mr-1"></i> Polyglot DB</span>
                                    <span class="tech-desc">Fleksibilitas penuh. Mendukung <strong>SQLite</strong> (Portable), <strong>MySQL</strong>, dan <strong>PostgreSQL</strong> (Enterprise).</span>
                                </div>
                                <div class="tech-item">
                                    <span class="tech-title"><i class="fas fa-file-pdf mr-1"></i> PDF Engine</span>
                                    <span class="tech-desc">Generate dokumen PDF presisi tinggi (Pixel-Perfect) server-side, siap cetak tanpa ketergantungan browser.</span>
                                </div>
                                <div class="tech-item">
                                    <span class="tech-title"><i class="fas fa-shield-alt mr-1"></i> Security</span>
                                    <span class="tech-desc">Proteksi berlapis dengan HMAC Licensing, JWT Authentication, bcrypt hashing, dan proteksi XSS.</span>
                                </div>
                            </div>

                            <hr class="my-4">
                            <div class="text-center small text-gray-500">
                                <span>&copy; 2025 SIMDOKPOL Development Team. All Rights Reserved.</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    
                    <div class="info-card">
                        <div class="card-header bg-white py-3 border-bottom-primary">
                            <h6 class="m-0 font-weight-bold text-primary"><i class="fas fa-user-tie mr-2"></i>Profil Pengembang</h6>
                        </div>
                        <div class="dev-profile">
                            <img class="dev-avatar" src="/static/img/panduan/profile-pic.png" onerror="this.src='/static/img/undraw_profile.svg'" alt="Developer">
                            <h5 class="font-weight-bold text-gray-900 mb-1">MUHAMMAD YUSUF A.</h5>
                            <p class="text-primary small font-weight-bold text-uppercase mb-3">Lead Software Architect</p>
                            
                            <p class="dev-bio">
                                "Berdedikasi untuk menciptakan solusi perangkat lunak yang pragmatis, aman, dan berdampak nyata bagi efisiensi pelayanan publik."
                            </p>
                            
                            <div class="d-flex justify-content-center mt-3">
                                <a href="https://github.com/muhammad1505" target="_blank" class="social-btn bg-github" title="GitHub"><i class="fab fa-github"></i></a>
                                <a href="https://wa.me/6282300014685" target="_blank" class="social-btn bg-wa" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                                <a href="mailto:emailbaruku50@gmail.com" class="social-btn bg-mail" title="Email"><i class="fas fa-envelope"></i></a>
                            </div>
                        </div>
                    </div>

                    <div class="info-card">
                        <div class="card-header bg-white py-3 border-bottom-success">
                            <h6 class="m-0 font-weight-bold text-success"><i class="fas fa-certificate mr-2"></i>Lisensi Aplikasi</h6>
                        </div>
                        <div class="card-body text-center p-4">
                            
                            <div id="license-status-text" class="mb-3">
                                <span class="spinner-border spinner-border-sm text-primary"></span> Memuat...
                            </div>

                            <div id="license-active-msg" style="display: none;">
                                <div class="mb-3">
                                    <i class="fas fa-check-circle text-success fa-4x"></i>
                                </div>
                                <h5 class="font-weight-bold text-gray-800">Versi Professional</h5>
                                <p class="small text-muted mb-0">Semua fitur Enterprise aktif.</p>
                            </div>

                            <div id="license-form-group" style="display: none;">
                                <div class="license-status-box">
                                    <small class="text-uppercase font-weight-bold text-secondary">Hardware ID</small><br>
                                    <span id="hardware-id-val" class="hwid-code">...</span>
                                    <button class="btn btn-outline-primary btn-sm mt-2" id="copy-hwid-btn">
                                        <i class="fas fa-copy mr-1"></i> Salin ID
                                    </button>
                                </div>
                                <div class="mt-3">
                                    <img id="hardware-id-qr" class="border rounded p-2 bg-white" alt="QR Hardware ID" width="160" height="160">
                                    <div class="small text-muted mt-2">Scan QR untuk salin Hardware ID.</div>
                                </div>
                                <a href="/upgrade" class="btn btn-primary btn-block shadow-sm font-weight-bold mt-3">
                                    Upgrade ke Pro <i class="fas fa-arrow-right ml-1"></i>
                                </a>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    {{template "_footer.html" .}}
</div>

{{template "_scripts.html" .}}
{{template "_licenseScript.html" .}}

<script>
$(document).ready(function() {
    // Copy Handler Simpel
    $('#copy-hwid-btn').on('click', function() {
        const text = $('#hardware-id-val').text();
        if(text && text !== '...') {
            const $temp = $("<input>");
            $("body").append($temp);
            $temp.val(text).select();
            document.execCommand("copy");
            $temp.remove();
            
            const btn = $(this);
            const original = btn.html();
            btn.html('<i class="fas fa-check"></i> Disalin!').removeClass('btn-outline-primary').addClass('btn-success');
            setTimeout(() => { btn.html(original).addClass('btn-outline-primary').removeClass('btn-success'); }, 1500);
            
            const Toast = Swal.mixin({ toast: true, position: 'top-end', showConfirmButton: false, timer: 1500 });
            Toast.fire({ icon: 'success', title: 'Hardware ID Disalin!' });
        }
    });
});
</script>
